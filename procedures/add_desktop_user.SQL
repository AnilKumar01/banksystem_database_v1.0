USE BANK_SYSTEM
DELIMITER //

DROP PROCEDURE IF EXISTS ADD_DESKTOP_USER;
CREATE PROCEDURE ADD_DESKTOP_USER
(
	IN P_USERNAME VARCHAR(60),
	IN P_PASSWORD VARCHAR(60),
	IN P_ACCOUNT_LEVEL VARCHAR(20),
	IN P_ACCOUNT_STATUS VARCHAR(20)
)
BEGIN
	DECLARE V_ENC_PASSWORD VARCHAR(60);
	
	SET V_ENC_PASSWORD=AES_ENCRYPT(P_PASSWORD, "6575");
	
	INSERT INTO	DESKTOP_APP_USERS (USERNAME, PASSWORD, ACCOUNT_LEVEL, ACCOUNT_STATUS)
	VALUES (P_USERNAME, V_ENC_PASSWORD, P_ACCOUNT_LEVEL, P_ACCOUNT_STATUS);
END;
//
