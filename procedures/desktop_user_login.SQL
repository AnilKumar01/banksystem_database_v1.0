USE BANK_SYSTEM
DELIMITER //

DROP PROCEDURE IF EXISTS DESKTOP_USER_LOGIN;
CREATE PROCEDURE DESKTOP_USER_LOGIN
(
	IN P_USERNAME VARCHAR(60),
	IN P_PASSWORD VARCHAR(60),
	OUT P_ACCOUNT_LEVEL VARCHAR(20)
)
BEGIN
	SELECT ACCOUNT_LEVEL INTO P_ACCOUNT_LEVEL FROM DESKTOP_APP_USERS
	WHERE USERNAME=P_USERNAME AND PASSWORD=AES_ENCRYPT(P_PASSWORD,"6575") AND ACCOUNT_STATUS="UNLOCKED";
END;
//
