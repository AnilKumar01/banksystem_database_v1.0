USE BANK_SYSTEM

DROP VIEW IF EXISTS ACCOUNT_SUMMARY;
CREATE VIEW ACCOUNT_SUMMARY
AS
SELECT 
	A.ACCOUNT_NO, A.ACCOUNT_TYPE, A.OPEN_DATE,
	BL.BRANCH_CODE, BL.LOCATION, BL.IFSC_CODE, BL.ADDRESS, BL.TELEPHONE_NO, BL.FAX_NO,
	CONCAT(C.FIRST_NAME, " ", C.MIDDLE_NAME, " ", C.LAST_NAME) ACCOUNT_HOLDER, C.CURRENT_ADDRESS, C.MOBILE_NO

FROM CUSTOMER C, ACCOUNT A, BRANCH_LIST BL, ACCOUNT_BRANCH_RELATION ABR, CUSTOMER_ACCOUNT_RELATION CAR
WHERE
	C.CUSTOMER_ID=CAR.CUSTOMER_ID AND CAR.ACCOUNT_NO=A.ACCOUNT_NO AND
	A.ACCOUNT_NO=ABR.ACCOUNT_NO AND ABR.BRANCH_CODE=BL.BRANCH_CODE;
